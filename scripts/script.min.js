function SongList(t){function o(){for(var o=0;o<t.length;o++)e+="<li data-url='"+t[o].file+"' class='demo_song-list_item'>"+t[o].title+" ("+t[o].author+")</li>";e+="</ul>"}var e="<ul>";this.get=function(){return o(),e}}function displaySongList(t){this.addClass("demo_song-list").html(t)}function selectSong(t){for(var o=t.target;o!=this;){if(o.hasAttribute("data-url")){var e=o.getAttribute("data-url");return highlightSelectedSong(o),void loadSong(e)}o=o.parentNode}}function highlightSelectedSong(t){selectedSong&&$(selectedSong).removeClass("demo_song-list_item_active"),selectedSong=t,$(selectedSong).addClass("demo_song-list_item_active")}function loadSong(t){$.ajax({url:songDir+t,success:function(t){demoSong.text(t)},error:function(t,o,e){console.log("Error: "+e),console.log("Status: "+o),console.dir(t)},complete:function(t,o){for(var e=document.querySelectorAll("pre.singer_song"),n=0;n<e.length;n++){var i=new Singer(e[n]);i.init()}}})}function loadInitialSong(t){var o=$("[data-url]");highlightSelectedSong(o[0]),loadSong(t.file)}var songListElem=$("#demo_song-list"),songDir="./songs/",demoSong=$("#demo_song"),selectedSong,songs=[{title:"Imagine",author:"John Lennon",file:"imagine.txt"},{title:"Don't Worry, be Happy",author:"Bobby McFerrin",file:"dont-worry.txt"},{title:"Knockin On Heavens Door",author:"Bob Dylan",file:"knockin-on-heavens-door.txt"},{title:"Jingle Bells",author:"James Lord Pierpont",file:"jingle-bells.txt"},{title:"I'm yours",author:"Jason Mraz",file:"im-yours.txt"}];$(document).ready(function(){var t=new SongList(songs);displaySongList.call(songListElem,t.get()),loadInitialSong(songs[0])}),songListElem.on("click",selectSong),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top},300),!1}})});